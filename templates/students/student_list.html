{% extends 'base.html' %}

{% block content %}
<h3>{{title|title}}</h3><a href="{% url 'student:add' %}" class="btn btn-primary btn-sm">Add Students</a>
<hr>
<div class="row">
  <div class="col-sm-10">
    <div class="card">
      <div class="card-body">
        <table class="table table-striped table-sm">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">First</th>
              <th scope="col">Last</th>
              <th scope="col">Birth Date</th>
              <th scope="col">Age</th>
              <th scope="col">School Status</th>
              <th scope="col">Teacher</th>
              <th scope="col">Details</th>
              <th scope="col">Edit</th>
            </tr>
          </thead>
          <tbody>
            {% for student in request.user.studentname_set.all %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>{{student.f_name|title}}</td>
              <td>{{student.l_name|title}}</td>
              <td>{{student.birth_date}}</td>
              <td>{{student.calculate_age}}</td>
              <td>{{student.school_status|yesno:'In School,Not in School'}}</td>
              <td>{{student.user.get_full_name|title}}</td>
              <td><a href="{%url 'student:detail' pk=student.id%}" class="btn btn-outline-primary btn-sm">Details</a></td>
              <td><a href="{%url 'student:edit' pk=student.id%}" class="btn btn-outline-success btn-sm">Edit</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

  </div>
  <div class="col-sm-2">
    <div class="card">
      <div class="card-body">
        <table class="table table-striped table-sm">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Blocks</th>
            </tr>
          </thead>
          <tbody>
            {% for block in request.user.block_set.all %}
            <tr>
              <td><a href="">{{block.block_name|title}}</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
</div>

{% endblock %}